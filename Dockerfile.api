FROM node:20-alpine

WORKDIR /app

COPY package.json ./package.json
COPY crisis-api-server.js ./crisis-api-server.js

ENV PORT=4000
ENV CRISIS_STATE_DIR=/data
ENV CRISIS_STATE_FILE=crisis-state.json

VOLUME ["/data"]

EXPOSE 4000

CMD ["node", "crisis-api-server.js"]
